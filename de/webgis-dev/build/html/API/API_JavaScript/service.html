

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="de" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="de" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>WebGIS 5.0 API: service &mdash; webgis 1.0 Dokumentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/js/eni.js"></script>
        <script src="../../_static/translations.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/eni.css" type="text/css" />
    <link rel="index" title="Stichwortverzeichnis" href="../../genindex.html" />
    <link rel="search" title="Suche" href="../../search.html" />
    <link rel="next" title="WebGIS 5.0 API: sketch" href="sketch.html" />
    <link rel="prev" title="WebGIS 5.0 API: map" href="map.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> webgis
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Inhalt:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">JavaScript</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="graphics.html">graphics</a></li>
<li class="toctree-l3"><a class="reference internal" href="map.html">map</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">service</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#members">Members</a></li>
<li class="toctree-l4"><a class="reference internal" href="#properties">Properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="#member-details">Member Details</a></li>
<li class="toctree-l4"><a class="reference internal" href="#property-details">Property Details</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="sketch.html">sketch</a></li>
<li class="toctree-l3"><a class="reference internal" href="ui.html">ui</a></li>
<li class="toctree-l3"><a class="reference internal" href="webgis.html">webgis</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">webgis</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">API</a> &raquo;</li>
        
          <li><a href="index.html">WebGIS 5.0 API JavaScript</a> &raquo;</li>
        
      <li>WebGIS 5.0 API: service</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/API/API_JavaScript/service.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="webgis-5-0-api-service">
<h1>WebGIS 5.0 API: service<a class="headerlink" href="#webgis-5-0-api-service" title="Link zu dieser Überschrift">¶</a></h1>
<div class="section" id="members">
<h2>Members<a class="headerlink" href="#members" title="Link zu dieser Überschrift">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Beschreibung</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#getlayeranchor"><span class="std std-ref">getLayer (id)</span></a></p></td>
<td><p>Gibt einen Layer aufgrund seiner Id zurück.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#getlayerfromnameanchor"><span class="std std-ref">getLayerFromName (name)</span></a></p></td>
<td><p>Gibt ein Layer aufgrund seines Namens zurück.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#getlayeridsanchor"><span class="std std-ref">getLayerIds ()</span></a></p></td>
<td><p>Gib eine Auflistung aller Layer Ids in einem Service zurück.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#getlayeridsfromnamesanchor"><span class="std std-ref">getLayerIdsFromNames (layernames)</span></a></p></td>
<td><p>Gibt ein Array mit den Ids der übergeben Layer zurück.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#getlegendurlanchor"><span class="std std-ref">getLegendUrl ()</span></a></p></td>
<td><p>Erzeugt einen Link zum Abholen das aktuellen Legendbildes für den Dienst.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#getpreviewurlanchor"><span class="std std-ref">getPreviewUrl (r)</span></a></p></td>
<td><p>Mit dieser Methode kann eine Vorschaubild eines Dienstes in einer gewissen Größe abgeh…</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#layerinscaleanchor"><span class="std std-ref">layerInScale (id)</span></a></p></td>
<td><p>Überprüft, ob ein Layer im aktuellen Kartenmaßstab sichtbar ist.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#refreshanchor"><span class="std std-ref">refresh ()</span></a></p></td>
<td><p>Erzwingt ein Neuzeichnen des Dienstes in der Karte.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#removeanchor"><span class="std std-ref">remove ()</span></a></p></td>
<td><p>Entfernt einen Dienst aus einer Karte.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#setlayervisibilityanchor"><span class="std std-ref">setLayerVisibility (layerids, visible)</span></a></p></td>
<td><p>Setzt die Sichtbarkeit von Layern über ihre Id.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#setopacityanchor"><span class="std std-ref">setOpacity (opacity)</span></a></p></td>
<td><p>Gib die Transparenz für ein Service an.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#setservicevisibilityanchor"><span class="std std-ref">setServiceVisibility (layerids)</span></a></p></td>
<td><p>Setzt alle Layer mit einer ensprechenden Id sichbar und alle restlichen Layer unsichtbar.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="properties">
<h2>Properties<a class="headerlink" href="#properties" title="Link zu dieser Überschrift">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Beschreibung</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#idpropertyanchor"><span class="std std-ref">id</span></a></p></td>
<td><p>Die Id des Dienstes.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#isbasemappropertyanchor"><span class="std std-ref">isBasemap</span></a></p></td>
<td><p>Gibt an, ob es sich bei diesem Service um einen Hintergrunddienst handelt.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#layerspropertyanchor"><span class="std std-ref">layers</span></a></p></td>
<td><p>Ein Array der Layer des Dienstes.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mappropertyanchor"><span class="std std-ref">map</span></a></p></td>
<td><p>Das map Objekt der in dem das Service eingebunden ist.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#namepropertyanchor"><span class="std std-ref">name</span></a></p></td>
<td><p>Der Name des Services.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#opacitypropertyanchor"><span class="std std-ref">opacity</span></a></p></td>
<td><p>Gibt die Transparenz des Dienstes an.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="member-details">
<h2>Member Details<a class="headerlink" href="#member-details" title="Link zu dieser Überschrift">¶</a></h2>
<div class="section" id="getlayer-id">
<span id="getlayeranchor"></span><h3>getLayer (id)<a class="headerlink" href="#getlayer-id" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Gibt einen Layer aufgrund seiner Id zurück. Wenn der Layer im Dienst nicht gefunden wird, ist der Rückgabewert <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
<p><em>Beispiel</em></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">layer</span> <span class="o">=</span> <span class="nx">service</span><span class="p">.</span><span class="nx">getLayer</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">);</span>
<span class="k">if</span><span class="p">(</span><span class="nx">layer</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>

    <span class="c1">// do something</span>

<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="getlayerfromname-name">
<span id="getlayerfromnameanchor"></span><h3>getLayerFromName (name)<a class="headerlink" href="#getlayerfromname-name" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Gibt ein Layer aufgrund seines Namens zurück. Wenn der Layer im Dienst nicht gefunden wird, ist der Rückgabewert <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
<p><em>Beispiel</em></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">layer</span> <span class="o">=</span> <span class="nx">getLayerFromName</span><span class="p">(</span><span class="s1">&#39;Verwaltungsdaten\\PLZ-Flächen&#39;</span><span class="p">);</span>
<span class="k">if</span><span class="p">(</span><span class="nx">layer</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>

<span class="c1">// do something</span>

<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="getlayerids">
<span id="getlayeridsanchor"></span><h3>getLayerIds ()<a class="headerlink" href="#getlayerids" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Gib eine Auflistung aller Layer Ids in einem Service zurück. Der Rückgabewert ist ein Array, das dann beispielsweise wieder an die Methode <code class="docutils literal notranslate"><span class="pre">setLayerVisibility([],true/false)</span></code> übergeben werden, um alle Layer in ein Dienst aus- oder einzuschalten.</p>
<p><em>Beispiel</em></p>
<p>Alle Layer in einem Dienst unsichtbar schalten. Der gleiche Effekt kann auch eleganter mit der Methode <code class="docutils literal notranslate"><span class="pre">setServiceVisibility();</span></code> erfolgen.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">layerIds</span> <span class="o">=</span> <span class="nx">service</span><span class="p">.</span><span class="nx">getLayerIds</span><span class="p">();</span>
<span class="nx">service</span><span class="p">.</span><span class="nx">setLayerVisibility</span><span class="p">(</span><span class="nx">layerIds</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="c1">//</span>
<span class="c1">// Wieder alle Layer sichtbar schalten</span>
<span class="nx">service</span><span class="p">.</span><span class="nx">setLayerVisibility</span><span class="p">(</span><span class="nx">layerIds</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="c1">// bzw.</span>
<span class="nx">service</span><span class="p">.</span><span class="nx">setServiceVisibliity</span><span class="p">(</span><span class="nx">service</span><span class="p">.</span><span class="nx">getLayerIds</span><span class="p">());</span>
</pre></div>
</div>
</div>
<div class="section" id="getlayeridsfromnames-layernames">
<span id="getlayeridsfromnamesanchor"></span><h3>getLayerIdsFromNames (layernames)<a class="headerlink" href="#getlayeridsfromnames-layernames" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Gibt ein Array mit den Ids der übergeben Layer zurück. Übergeben wird ein Array von String mit den Layernamen.</p>
<p>Die Funktion ist nützlich, da die Ids beispielsweise für das setzen der Sichtbarkeit der Layer notwendig ist. Wenn sich bei Layer die Ids ändern können (zB beim AGS Services durch umsortieren der Layer), empfielt es die aktuellen Ids aus dem Namen zu holen.</p>
<p><em>Beispiel</em></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">service</span><span class="o">=</span><span class="nx">map</span><span class="p">.</span><span class="nx">getService</span><span class="p">(</span><span class="s1">&#39;estag_basis_ags@ccgis_default&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">layerIds</span><span class="o">=</span><span class="nx">service</span><span class="p">.</span><span class="nx">getLayerIdsFromNames</span><span class="p">([</span><span class="s1">&#39;Verwaltungsdaten\\PLZ-Flächen&#39;</span><span class="p">]);</span>
<span class="c1">//console.log(layerIds);</span>
<span class="nx">service</span><span class="p">.</span><span class="nx">setLayerVisibility</span><span class="p">(</span><span class="nx">layerIds</span><span class="p">,</span><span class="kc">true</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="getlegendurl">
<span id="getlegendurlanchor"></span><h3>getLegendUrl ()<a class="headerlink" href="#getlegendurl" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Erzeugt einen Link zum Abholen das aktuellen Legendbildes für den Dienst. Die Legende ist abhängig von der aktuellen Layer Sichtbarkeit und vom Kartenmaßstab. Die Url kann verwendet werden, um beispielsweise über einen AJAX Request die Legende abzuholen und das Ergebnis an ein Image Element zu übergeben. Der Rückgabewert ist ein JSON Objekt mit der Eigenschaft url. Diese Url ist ein Link auf das eigentliche Legenden Bild (png oder jpg).</p>
<p><em>Beispiel</em></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
    <span class="nx">url</span><span class="o">:</span> <span class="nx">service</span><span class="p">.</span><span class="nx">getLegendUrl</span><span class="p">(),</span>
    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;get&#39;</span><span class="p">,</span>
    <span class="nx">success</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">result</span> <span class="o">&amp;&amp;</span> <span class="nx">result</span><span class="p">.</span><span class="nx">url</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;img&gt;&#39;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="nx">result</span><span class="p">.</span><span class="nx">url</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="getpreviewurl-r">
<span id="getpreviewurlanchor"></span><h3>getPreviewUrl (r)<a class="headerlink" href="#getpreviewurl-r" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Mit dieser Methode kann eine Vorschaubild eines Dienstes in einer gewissen Größe abgeholt werden. Der Rückgabewert ist eine Url die einen Bild entspricht (png oder jpg). Diese Vorschau ist abhängig vom aktuellen Kartenmaßstab. Anwendungen für diese Methode sind beispielsweise die Vorschaubilder für die Hintergrundkarten im TOC.</p>
<p>Der Übergabeparameter muss ein Objekt mit den Werten <code class="docutils literal notranslate"><span class="pre">width</span></code> und <code class="docutils literal notranslate"><span class="pre">height</span></code> sein und gibt die Größe des Vorschaubildes an.</p>
<p><em>Beispiel</em></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;&lt;div&gt;&quot;</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s1">&#39;background&#39;</span><span class="p">,</span> <span class="s1">&#39;url(&#39;</span> <span class="o">+</span> <span class="nx">service</span><span class="p">.</span><span class="nx">getPreviewUrl</span><span class="p">({</span><span class="nx">width</span><span class="o">:</span> <span class="mi">200</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">200</span><span class="p">})</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="layerinscale-id">
<span id="layerinscaleanchor"></span><h3>layerInScale (id)<a class="headerlink" href="#layerinscale-id" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Überprüft, ob ein Layer im aktuellen Kartenmaßstab sichtbar ist. Gewisse Layer in einem Service können Maßstabsanhängig sein. Es macht beispielsweise wenig Sinn Grundstücksgrenzen in sehr kleinen Maßstaben darzustellen. Um abzufragen, ob ein Layer im aktuellen Maßstabsbereich sichtbar ist, kann diese Methode verwendet werden. Der Übergabeparameter ist die Id des entsprechenden Layers. Der Funktionsrückgabe wert ist entweder <code class="docutils literal notranslate"><span class="pre">true</span></code> oder <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
<p><em>Beispiel</em></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="p">(</span><span class="nx">service</span><span class="p">.</span><span class="nx">layerInScale</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">))</span> <span class="p">{</span>   <span class="c1">// Layer mit Id 1</span>
    <span class="c1">// do something</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="refresh">
<span id="refreshanchor"></span><h3>refresh ()<a class="headerlink" href="#refresh" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Erzwingt ein Neuzeichnen des Dienstes in der Karte. Durch diesen Befehl wird das Kartenbild für diesen Dienst neu vom Kartenserver abholt. Die Methode sollte in der Regel nicht aufgerufen werden müssen. Nach Änderungen in der Karte oder der Sichtbarkeit von Layern in diesem Dienst, wird die Methode automasich vom webGIS Framework ausgeführt.</p>
<p><em>Beispiel</em></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">service</span><span class="p">.</span><span class="nx">refresh</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="remove">
<span id="removeanchor"></span><h3>remove ()<a class="headerlink" href="#remove" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Entfernt einen Dienst aus einer Karte.</p>
<p><em>Beispiel</em></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">service</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="setlayervisibility-layerids-visible">
<span id="setlayervisibilityanchor"></span><h3>setLayerVisibility (layerids, visible)<a class="headerlink" href="#setlayervisibility-layerids-visible" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Setzt die Sichtbarkeit von Layern über ihre Id. Übergeben werden die entspechenden Ids als Array und der Bool-Wert, für die Sichtbarkeit: true=sichtbar, false=unsichtbar.</p>
<p><em>Beispiel</em></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">service</span><span class="o">=</span><span class="nx">map</span><span class="p">.</span><span class="nx">getService</span><span class="p">(</span><span class="s1">&#39;estag_basis_ags@ccgis_default&#39;</span><span class="p">);</span>
<span class="nx">service</span><span class="p">.</span><span class="nx">setLayerVisibility</span><span class="p">([</span><span class="s1">&#39;1&#39;</span><span class="p">,</span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="s1">&#39;3&#39;</span><span class="p">],</span><span class="kc">true</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="setopacity-opacity">
<span id="setopacityanchor"></span><h3>setOpacity (opacity)<a class="headerlink" href="#setopacity-opacity" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Gib die Transparenz für ein Service an. Der Wert muss zwischen 0.0 und 1.0 liegen:</p>
<p>0.0 … komplett durchlässig</p>
<p>1.0 … nicht transparent</p>
<p><em>Beispiel</em></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">service</span><span class="o">=</span><span class="nx">map</span><span class="p">.</span><span class="nx">getService</span><span class="p">(</span><span class="s1">&#39;estag_basis_ags@ccgis_default&#39;</span><span class="p">);</span>
<span class="nx">service</span><span class="p">.</span><span class="nx">setOpacity</span><span class="p">(</span><span class="mf">0.5</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="setservicevisibility-layerids">
<span id="setservicevisibilityanchor"></span><h3>setServiceVisibility (layerids)<a class="headerlink" href="#setservicevisibility-layerids" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Setzt alle Layer mit einer ensprechenden Id sichbar und alle restlichen Layer unsichtbar. Der Übergabe Parameter ist ein Array mit den Layer-Ids. Wird ein leeres Array oder Nichts übergeben, werden alle Layer in einem Dienst unsichtbar gesetzt.</p>
<p><em>Beispiel</em></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// Nur die Layer 1,2,3 sichtbar setzen</span>
<span class="nx">service</span><span class="p">.</span><span class="nx">setServiceVisibility</span><span class="p">([</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">]);</span>

<span class="c1">// Alle Layer in einen Dienst unsichtbar setzten</span>
<span class="nx">service</span><span class="p">.</span><span class="nx">setServiceVisibility</span><span class="p">();</span>

<span class="c1">// Alle Layer sichtbar schalten</span>
<span class="nx">service</span><span class="p">.</span><span class="nx">setServiceVisibility</span><span class="p">(</span><span class="nx">service</span><span class="p">.</span><span class="nx">getLayerIds</span><span class="p">());</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="property-details">
<h2>Property Details<a class="headerlink" href="#property-details" title="Link zu dieser Überschrift">¶</a></h2>
<div class="section" id="idpropertyanchor">
<span id="id"></span><h3>id<a class="headerlink" href="#idpropertyanchor" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Die Id des Dienstes. Mit dieser Id kann ein Dienst auch in über ein <code class="docutils literal notranslate"><span class="pre">map</span></code> Objekt mit der Method <code class="docutils literal notranslate"><span class="pre">getService(id)</span></code> gefunen werden.</p>
<p><em>Beispiel</em></p>
<p>Das folgende Beispiel zeigt den Zusammenhang zwischen Dienst-Id und Karten Objekt.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="c1">// get service id</span>
<span class="kd">var</span> <span class="nx">serviceId</span> <span class="o">=</span> <span class="nx">service</span><span class="p">.</span><span class="nx">id</span>

<span class="c1">// get service map</span>
<span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">service</span><span class="p">.</span><span class="nx">map</span><span class="p">;</span>

<span class="c1">// get service with id from map</span>
<span class="kd">var</span> <span class="nx">service_with_id</span> <span class="o">=</span> <span class="nx">map</span><span class="p">.</span><span class="nx">getService</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="isbasemap">
<span id="isbasemappropertyanchor"></span><h3>isBasemap<a class="headerlink" href="#isbasemap" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Gibt an, ob es sich bei diesem Service um einen Hintergrunddienst handelt.</p>
<p><em>Beispiel</em></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="p">(</span><span class="nx">service</span><span class="p">.</span><span class="nx">isBasemap</span> <span class="o">==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Do something</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="layers">
<span id="layerspropertyanchor"></span><h3>layers<a class="headerlink" href="#layers" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Ein Array der Layer des Dienstes. Die einzelnen Werte des besitzen wieder eigenschaften wie <code class="docutils literal notranslate"><span class="pre">id</span></code> und <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p>
<p><em>Beispiel</em></p>
<p>Zum Suchen von Layern gibt es eigentlich die Methoden <code class="docutils literal notranslate"><span class="pre">getLayer()</span></code>, <code class="docutils literal notranslate"><span class="pre">getLayerFromName()</span></code>, und <code class="docutils literal notranslate"><span class="pre">getLayerIdsFromNames()</span></code> die verwendet werden sollten. In Ausnahme Fällen kann es aber auch wichtig sein die einzelen Layer aufzulisten</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">l</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">l</span> <span class="o">&lt;</span> <span class="nx">service</span><span class="p">.</span><span class="nx">layers</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">l</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">layer</span> <span class="o">=</span> <span class="nx">service</span><span class="p">.</span><span class="nx">layers</span><span class="p">[</span><span class="nx">l</span><span class="p">];</span>

    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">layer</span><span class="p">.</span><span class="nx">id</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="nx">layer</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="map">
<span id="mappropertyanchor"></span><h3>map<a class="headerlink" href="#map" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Das map Objekt der in dem das Service eingebunden ist.</p>
<p><em>Beispiel</em></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">serviceMap</span> <span class="o">=</span> <span class="nx">service</span><span class="p">.</span><span class="nx">map</span><span class="p">;</span>
<span class="nx">map</span><span class="p">.</span><span class="nx">zoomTo</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">50</span><span class="p">]);</span>
</pre></div>
</div>
</div>
<div class="section" id="name">
<span id="namepropertyanchor"></span><h3>name<a class="headerlink" href="#name" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Der Name des Services.</p>
</div>
<div class="section" id="opacity">
<span id="opacitypropertyanchor"></span><h3>opacity<a class="headerlink" href="#opacity" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Gibt die Transparenz des Dienstes an. Der Wert kann zwischen 0.0 (komplett tranzparent) und 1.0 (nicht transparent) liegen.</p>
<p>Der Wert sollte nicht gändert werden. Zum setzen der Transparenz soll die Methode <a class="reference internal" href="#setopacityanchor"><span class="std std-ref">setOpacity (opacity)</span></a> verwendet werden.</p>
<p><em>Beispiel</em></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">currentOpacity</span> <span class="o">=</span> <span class="nx">service</span><span class="p">.</span><span class="nx">opacity</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sketch.html" class="btn btn-neutral float-right" title="WebGIS 5.0 API: sketch" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="map.html" class="btn btn-neutral float-left" title="WebGIS 5.0 API: map" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, ENI

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>