

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="de" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="de" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>WebGIS 5.0 API: webgis &mdash; webgis 1.0 Dokumentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/js/eni.js"></script>
        <script src="../../_static/translations.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/eni.css" type="text/css" />
    <link rel="index" title="Stichwortverzeichnis" href="../../genindex.html" />
    <link rel="search" title="Suche" href="../../search.html" />
    <link rel="prev" title="WebGIS 5.0 API: ui" href="ui.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> webgis
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Inhalt:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">JavaScript</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="graphics.html">graphics</a></li>
<li class="toctree-l3"><a class="reference internal" href="map.html">map</a></li>
<li class="toctree-l3"><a class="reference internal" href="service.html">service</a></li>
<li class="toctree-l3"><a class="reference internal" href="sketch.html">sketch</a></li>
<li class="toctree-l3"><a class="reference internal" href="ui.html">ui</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">webgis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#members">Members</a></li>
<li class="toctree-l4"><a class="reference internal" href="#properties">Properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="#member-details">Member Details</a></li>
<li class="toctree-l4"><a class="reference internal" href="#property-details">Property Details</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">webgis</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">API</a> &raquo;</li>
        
          <li><a href="index.html">WebGIS 5.0 API JavaScript</a> &raquo;</li>
        
      <li>WebGIS 5.0 API: webgis</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/API/API_JavaScript/webgis.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="webgis-5-0-api-webgis">
<h1>WebGIS 5.0 API: webgis<a class="headerlink" href="#webgis-5-0-api-webgis" title="Link zu dieser Überschrift">¶</a></h1>
<div class="section" id="members">
<h2>Members<a class="headerlink" href="#members" title="Link zu dieser Überschrift">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 78%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Beschreibung</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#createmapanchor"><span class="std std-ref">createMap (elemId, options)</span></a></p></td>
<td><p>Mit dieser Methode wird eine neue Karte in einem HTML (div) Element erzeugt.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#initanchor"><span class="std std-ref">init (oninit)</span></a></p></td>
<td><p>Einstiegspunkt für jede WebGIS-API Anwending.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#projectanchor"><span class="std std-ref">project (id, lnglat)</span></a></p></td>
<td><p>Projektziert Koordinaten von WGS84 in ein projekziertes Koordinatensystem.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#registercrsanchor"><span class="std std-ref">registerCRS (id)</span></a></p></td>
<td><p>Registriert ein Koordinatensystem für die Projektion.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#unprojectanchor"><span class="std std-ref">unproject (id, xy)</span></a></p></td>
<td><p>Projektziert Koordinaten aus einen projekzierten Koordinatensystem nach WGS84.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="properties">
<h2>Properties<a class="headerlink" href="#properties" title="Link zu dieser Überschrift">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Beschreibung</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#clientidpropertyanchor"><span class="std std-ref">clientid</span></a></p></td>
<td><p>Die Client Id für die WebGIS-API Anwendung.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="member-details">
<h2>Member Details<a class="headerlink" href="#member-details" title="Link zu dieser Überschrift">¶</a></h2>
<div class="section" id="createmap-elemid-options">
<span id="createmapanchor"></span><h3>createMap (elemId, options)<a class="headerlink" href="#createmap-elemid-options" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Mit dieser Methode wird eine neue Karte in einem HTML (div) Element erzeugt. Als Parameter werden hier die Id des Ziel HTML Elements und ein Objekt, dass die Karte beschreibt übergeben. In diesem Objekt werden mindestens der Karten-Extent (entpricht Ausdehung und Koordinatensystem der Karte) und die zu ladenden Dienste angeführt.</p>
<p><em>Beispiel</em></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">webgis</span><span class="p">.</span><span class="nx">createMap</span><span class="p">(</span><span class="s1">&#39;map&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">extent</span><span class="o">:</span> <span class="s1">&#39;stmk_m34@ccgis_sdep&#39;</span><span class="p">,</span>
    <span class="nx">services</span><span class="o">:</span> <span class="s1">&#39;ortsplan@ccgis_sdep,estag_basis_ags@ccgis_sdep,estag_dkm_ags@ccgis_sdep&#39;</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Die Name der Extents und Dienste sind von der jeweiligen API Betreiber abhängig und können über die REST Schnittstelle eingesehen werden.</p>
</div>
<div class="section" id="init-oninit">
<span id="initanchor"></span><h3>init (oninit)<a class="headerlink" href="#init-oninit" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Einstiegspunkt für jede WebGIS-API Anwending. Diese Methode initialisiert die alle notwendigen API Elemente. Als Parameter wird eine Funktion übergeben, die nach der Initialisierung aufgerufen wird. Erst nach der Initialsierung kann begonnen werden, Karten zu erzeugen.</p>
<p><em>Beispiel</em></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">webgis</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// ab hier können Karten erzeugt werden</span>
    <span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="nx">webgis</span><span class="p">.</span><span class="nx">createMap</span><span class="p">(</span><span class="s1">&#39;map&#39;</span><span class="p">,</span> <span class="p">{</span>
        <span class="nx">extent</span><span class="o">:</span> <span class="s1">&#39;stmk_m34@ccgis_sdep&#39;</span><span class="p">,</span>
        <span class="nx">services</span><span class="o">:</span> <span class="s1">&#39;ortsplan@ccgis_sdep,estag_basis_ags@ccgis_sdep,estag_dkm_ags@ccgis_sdep&#39;</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="project-id-lnglat">
<span id="projectanchor"></span><h3>project (id, lnglat)<a class="headerlink" href="#project-id-lnglat" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Projektziert Koordinaten von WGS84 in ein projekziertes Koordinatensystem. Als Parameter werden die Id des Koordinatensystems (EPSG Code) und eine Array mit den Koordinaten [geographicse Länge, geographische Breite] übergeben. Wenn die Zielkoordinatensystem nicht das Kartenkoordinatensystem ist, muss dieses zuerst mit <code class="docutils literal notranslate"><span class="pre">webgis.registerCRS</span></code> registriert werden. Ansonsten wird ein Eingabewert zurückgegeben. Das Ergebnis ist wieder ein Array mit den projekzierten Koordinaten [X,Y]</p>
<p><em>Beispiel</em></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">xy</span><span class="o">=</span><span class="nx">webgis</span><span class="p">.</span><span class="nx">project</span><span class="p">(</span><span class="mi">31259</span><span class="p">,</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span> <span class="mi">47</span><span class="p">]);</span>
<span class="kd">var</span> <span class="nx">X</span><span class="o">=</span><span class="nx">xy</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">Y</span><span class="o">=</span><span class="nx">xy</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
</pre></div>
</div>
</div>
<div class="section" id="registercrs-id">
<span id="registercrsanchor"></span><h3>registerCRS (id)<a class="headerlink" href="#registercrs-id" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Registriert ein Koordinatensystem für die Projektion. Intern wird in der Karte mit geographischen Koordinaten (EPSG:4326) gerechnet. Zum Umrechnenen von projezierten Koordinaten in dieses System gibt es die Methoden <code class="docutils literal notranslate"><span class="pre">webgis.project</span></code> und <code class="docutils literal notranslate"><span class="pre">webgis.unproject</span></code>. Durch das Laden einer Karte mit <code class="docutils literal notranslate"><span class="pre">webgis.createMap</span></code> ist eine Projektion zwischen dem Kartensystem (Extent) und den geographischen Koordinaten möglich. Sollten auch noch andere Koordinatensystem projeziert werden, müssen diese mit dieser Methode registriert werden.</p>
<p><em>Beispiel</em></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">webgis</span><span class="p">.</span><span class="nx">registerCRS</span><span class="p">(</span><span class="mi">31259</span><span class="p">);</span>
</pre></div>
</div>
<p>Registriert zusätzlich zum Karten-Koordinatensystem BMN-M34. Danach kann mit den Methoden <code class="docutils literal notranslate"><span class="pre">webgis.project</span></code> und <code class="docutils literal notranslate"><span class="pre">webgis.unproject</span></code> projeziert werden.</p>
</div>
<div class="section" id="unproject-id-xy">
<span id="unprojectanchor"></span><h3>unproject (id, xy)<a class="headerlink" href="#unproject-id-xy" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Projektziert Koordinaten aus einen projekzierten Koordinatensystem nach WGS84. Als Parameter werden die Id des Koordinatensystems (EPSG Code) und eine Array mit den Koordinaten  [X,Y] übergeben. Wenn die Zielkoordinatensystem nicht das Kartenkoordinatensystem ist, muss dieses zuerst mit <code class="docutils literal notranslate"><span class="pre">webgis.registerCRS</span></code> registriert werden. Ansonsten wird eine Eingabewert zurückgegeben. Das Ergebnis ist wieder ein Array mit den geographischen Koordinaten [geographicse Länge, geographische Breite]</p>
<p><em>Beispiel</em></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">ll</span><span class="o">=</span><span class="nx">webgis</span><span class="p">.</span><span class="nx">unproject</span><span class="p">(</span><span class="mi">31259</span><span class="p">,</span> <span class="p">[</span><span class="mf">682467.9</span><span class="p">,</span> <span class="mf">215093.3</span><span class="p">]);</span>
<span class="kd">var</span> <span class="nx">lat</span><span class="o">=</span><span class="nx">ll</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">lng</span><span class="o">=</span><span class="nx">ll</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="property-details">
<h2>Property Details<a class="headerlink" href="#property-details" title="Link zu dieser Überschrift">¶</a></h2>
<div class="section" id="clientid">
<span id="clientidpropertyanchor"></span><h3>clientid<a class="headerlink" href="#clientid" title="Link zu dieser Überschrift">¶</a></h3>
<p><em>Beschreibung</em></p>
<p>Die Client Id für die WebGIS-API Anwendung. Entwickelt man einen API Client, muss man diesen erst als API Subscriber erstellen. Die dabei erzeugte Client Id muss hier angeben werden und gilt nur für Clients die unter einer bestimmter Domäne laufen (HTTP-Referer).</p>
<p><strong>Achtung:</strong> Die Client Id muss noch vor dem Aufruf von <code class="docutils literal notranslate"><span class="pre">webgis.init()</span></code> zugewiesen werden!</p>
<p><em>Beispiel</em></p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">webgis</span><span class="p">.</span><span class="nx">clientid</span><span class="o">=</span><span class="s1">&#39;meine client id&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="ui.html" class="btn btn-neutral float-left" title="WebGIS 5.0 API: ui" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, ENI

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>