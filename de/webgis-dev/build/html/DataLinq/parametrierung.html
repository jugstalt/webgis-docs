

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="de" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="de" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3 Parametrierung &mdash; webgis 1.0 Dokumentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/js/eni.js"></script>
        <script src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/eni.css" type="text/css" />
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
    <link rel="next" title="4 Aufruf und Beispiele" href="aufrufundbeispiele.html" />
    <link rel="prev" title="2 Technische Umsetzung" href="technischeumsetzung.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> webgis
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Inhalt:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../API/index.html">API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">DataLinq</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="allgemeines.html"><span class="sectnum">1</span> Allgemeines</a></li>
<li class="toctree-l2"><a class="reference internal" href="technischeumsetzung.html"><span class="sectnum">2</span> Technische Umsetzung</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#"><span class="sectnum">3</span> Parametrierung</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#endpunkte"><span class="sectnum">3.1</span> Endpunkte</a></li>
<li class="toctree-l3"><a class="reference internal" href="#query-abfragen"><span class="sectnum">3.2</span> Query (Abfragen)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#views-ansichten"><span class="sectnum">3.3</span> Views (Ansichten)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#berechtigung"><span class="sectnum">3.4</span> Berechtigung</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stile"><span class="sectnum">3.5</span> Stile</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="aufrufundbeispiele.html"><span class="sectnum">4</span> Aufruf und Beispiele</a></li>
<li class="toctree-l2"><a class="reference internal" href="tippsundtricks.html"><span class="sectnum">5</span> Tipps und tricks für Views</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../KartenViewer/index.html">Karten Viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tutorials/index.html">Tutorials</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">webgis</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">DataLinq</a> &raquo;</li>
        
      <li><span class="sectnum">3</span> Parametrierung</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/DataLinq/parametrierung.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="parametrierung">
<h1><span class="sectnum">3</span> Parametrierung<a class="headerlink" href="#parametrierung" title="Link zu dieser Überschrift">¶</a></h1>
<div class="section" id="endpunkte">
<span id="anchor31"></span><h2><span class="sectnum">3.1</span> Endpunkte<a class="headerlink" href="#endpunkte" title="Link zu dieser Überschrift">¶</a></h2>
<p>Unter „DataLinq EndPoints“ kann ein neuer Endpunkt erstellt oder bestehende Endpunkte bearbeitet werden.</p>
<p>Mit Klick auf die Schaltfläche „Edit CSS“ kann ein CSS-Dokument erstellt werden, auf dessen Stile von allen – in diesem Endpunkt vorhandenen – Views zugegriffen werden kann (<a class="reference internal" href="#anchor35"><span class="std std-ref">Kapitel 3.5</span></a>). Durch Klick auf „Queries“ können neue Abfragen für den jeweiligen Endpunkt erstellt werden (<a class="reference internal" href="#anchor32"><span class="std std-ref">Kapitel 3.2</span></a>).</p>
<p>Mit Klick auf „Nav Tree“ wird links ein Navigationsbaum mit der Struktur der Endpoints, Query und Views angezeigt mithilfe dessen schnell ein Element ausgewählt und bearbeitet werden kann.</p>
<img alt="../_images/ad3_1.jpg" src="../_images/ad3_1.jpg" />
<p>Über die Schaltfläche „New Endpoint“ kann in drei Schritten ein neuer Endpunkt erstellt werden:</p>
<ul>
<li><p>General</p>
<ul class="simple">
<li><p>EndPoint Id</p>
<ul>
<li><p>Eindeutiger Name des Endpoints, wird bei URL Aufruf verwendet</p></li>
</ul>
</li>
<li><p>EndPoint Name</p>
<ul>
<li><p>Bezeichnung des Endpunktes</p></li>
</ul>
</li>
<li><p>Description</p>
<ul>
<li><p>Optional, Beschreibung</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Connection</p>
<blockquote>
<div><ul>
<li><p>Type</p>
<ul>
<li><p>Database: DB-Verbindung, bspw.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SQL</span><span class="p">:</span><span class="n">Server</span><span class="o">=</span><span class="n">db123</span><span class="o">.</span><span class="n">firma</span><span class="o">.</span><span class="n">at</span>\<span class="n">instanz</span><span class="p">;</span><span class="n">Database</span><span class="o">=</span><span class="n">ssg</span><span class="p">;</span><span class="n">User</span> <span class="n">Id</span><span class="o">=</span><span class="n">user1</span><span class="p">;</span><span class="n">Password</span><span class="o">=</span><span class="n">pwd1</span><span class="p">;</span>
</pre></div>
</div>
</li>
<li><p>Api: ArcGIS Rest Schnittstelle, bspw. <a class="reference external" href="http://localhost/test_api5">http://localhost/test_api5</a></p>
<ul>
<li><p>Falls der Dienst berechtigt ist, können die Zugangsdaten eines berechtigten Subscribers mit</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">service</span><span class="o">=</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">server123</span><span class="o">.</span><span class="n">at</span><span class="o">/</span><span class="n">api5test</span><span class="p">;</span><span class="n">user</span><span class="o">=</span><span class="n">username</span><span class="p">;</span><span class="n">pwd</span><span class="o">=</span><span class="mi">12345</span>
</pre></div>
</div>
<p>angegeben werden</p>
</li>
</ul>
</li>
<li><p>DataLinq: Eine andere WebGIS DataLinq Anwendung, bspw.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
</pre></div>
</div>
</li>
<li><p>Plugins, bspw. Wetterdienste, Twitter, etc.</p></li>
</ul>
</li>
</ul>
</div></blockquote>
</li>
<li><p>Security</p>
<ul class="simple">
<li><p>Setzen von autorisierten Usern / Rollen, siehe <a class="reference internal" href="#anchor32"><span class="std std-ref">Kapitel 3.2</span></a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="query-abfragen">
<span id="anchor32"></span><h2><span class="sectnum">3.2</span> Query (Abfragen)<a class="headerlink" href="#query-abfragen" title="Link zu dieser Überschrift">¶</a></h2>
<p>Nach der Auswahl einer Endpoints können für diesen Abfragen erstellt werden. Damit kann der Datenbestand des Endpoints (dort wird die Verbindung zum Datenbestand definiert) abgefragt werden. Je nach Verbindungstyp kann diese Abfrage unterschiedlich formuliert sein. Bei Abfragen auf Datenbanken wird dies in der Regel SQL-Code sein, bei Abfragen auf REST-Schnittstellen wird es eine URL sein.</p>
<img alt="../_images/ad3_2.png" src="../_images/ad3_2.png" />
<p>Unter „New EndPoint Query“ wird eine neue Abfrage erstellt:</p>
<ul>
<li><p>General</p>
<ul class="simple">
<li><p>Query Id</p>
<ul>
<li><p>Eindeutiger Name der Abfrage, wird bei URL Aufruf verwendet</p></li>
</ul>
</li>
<li><p>Query Name</p>
<ul>
<li><p>Bezeichnung des Abfrage</p></li>
</ul>
</li>
<li><p>Description</p>
<ul>
<li><p>Optional, Beschreibung</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Statement (über Editor)</p>
<ul>
<li><p>Je nach Verbindungstyp kann diese Abfrage unterschiedlich formuliert sein</p>
<ul class="simple">
<li><p>Abfrage aus Datenbanken: SQL</p></li>
<li><p>Abfrage aus REST-Schnittstellen: URL</p></li>
</ul>
</li>
<li><p>Auch Parameter, bspw. zur Einschränkung der Ergebnisse sind möglich</p>
<ul>
<li><p>SQL-Parameter: <strong>&#64;Parametername</strong></p>
<div class="highlight-SQL notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
    <span class="p">[</span><span class="n">OBJECTID</span><span class="p">],</span>
    <span class="p">[</span><span class="n">NAME</span><span class="p">]</span>
<span class="k">FROM</span> <span class="n">projekt_gebaeude</span>
    <span class="k">WHERE</span> <span class="n">gebaeudeid</span> <span class="o">=</span> <span class="o">@</span><span class="n">GebaeudeId</span>
</pre></div>
</div>
</li>
<li><p>REST: <strong>{{Parametername}}</strong></p>
<div class="highlight-REST notranslate"><div class="highlight"><pre><span></span>URL/gebaeude?gebaeudeid={{GebaeudeId}}&amp;…
</pre></div>
</div>
<p>Bei der REST-Abfrage müssen die Parameter im CMS als Suchbegriff definiert sein.</p>
</li>
</ul>
</li>
<li><p>Optionale Parameter werden nur eingefügt, wenn sie im Aufruf übergeben wurden. Sie können im Query-Statement mit <code class="docutils literal notranslate"><span class="pre">#if</span> <span class="pre">PARAMETERNAME</span> <span class="pre">[…]</span> <span class="pre">#endif</span></code> definiert werden, der Inhalt zwischen diesen beiden Keywords wird dem Statement angehängt.</p>
<ul>
<li><p>SQL-Parameter: <strong>&#64;Parametername</strong></p>
<div class="highlight-SQL notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
    <span class="p">[</span><span class="n">NAME</span><span class="p">],</span>
    <span class="p">[</span><span class="n">FARBE</span><span class="p">]</span>
    <span class="k">WHERE</span> <span class="n">gebaeudeart</span> <span class="o">=</span> <span class="o">@</span><span class="n">GebaeudeArt</span>
    <span class="o">#</span><span class="k">if</span> <span class="n">dachfarbe</span>
        <span class="k">AND</span> <span class="n">FARBE</span> <span class="o">=</span> <span class="o">@</span><span class="n">dachfarbe</span>
    <span class="o">#</span><span class="n">endif</span>
</pre></div>
</div>
</li>
<li><p>REST: <strong>{{Parametername}}</strong></p>
<div class="highlight-REST notranslate"><div class="highlight"><pre><span></span>URL/gebaeude?gebaeudeart={{GebaeudeArt}}
#if dachfarbe
        &amp;farbe = @dachfarbe
#endif
</pre></div>
</div>
</li>
</ul>
</li>
<li><p>Test Parameter: hier kann die Query mit Parametern getestet werden. Bei Klick auf Test wird die Abfrage-URL erstellt, siehe <a class="reference internal" href="aufrufundbeispiele.html#anchor41"><span class="std std-ref">Kapitel 4.1</span></a>.</p>
<img alt="../_images/ad3_3.jpg" src="../_images/ad3_3.jpg" />
</li>
</ul>
</li>
<li><p>Domains: zum Übersetzen von Werten, siehe <a class="reference internal" href="tippsundtricks.html#anchor57"><span class="std std-ref">Kapitel 5.7</span></a></p></li>
<li><p>Security</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>Setzen von autorisierten Usern / Rollen, siehe <a class="reference internal" href="#anchor32"><span class="std std-ref">Kapitel 3.2</span></a></p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="views-ansichten">
<span id="anchor33"></span><h2><span class="sectnum">3.3</span> Views (Ansichten)<a class="headerlink" href="#views-ansichten" title="Link zu dieser Überschrift">¶</a></h2>
<p>Zur Darstellung der Ergebnisse einer Abfrage können ein oder mehrere Ansichten erstellt werden.</p>
<img alt="../_images/ad3_4.png" src="../_images/ad3_4.png" />
<p>Unter „New EndPoint Query View“ wird eine neue Abfrage erstellt:</p>
<ul class="simple">
<li><p>General</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>View Id</p>
<ul>
<li><p>Eindeutiger Name der Ansicht, wird bei URL Aufruf verwendet</p></li>
</ul>
</li>
<li><p>View Name</p>
<ul>
<li><p>Bezeichnung des Ansicht</p></li>
</ul>
</li>
<li><p>Description</p>
<ul>
<li><p>Optional, Beschreibung</p></li>
</ul>
</li>
</ul>
</div></blockquote>
<ul>
<li><p>Code (über Editor)</p>
<ul class="simple">
<li><p>HTML mit ASP.NET Razor Markup</p></li>
</ul>
<blockquote>
<div><img alt="../_images/ad3_5.png" src="../_images/ad3_5.png" />
</div></blockquote>
<ul class="simple">
<li><p>Mit „Compile and Save“ wird der Code kompiliert und gespeichert, bzw. sonst eventuelle Fehlermeldungen ausgegeben.</p></li>
<li><p>Im Editor ist unter „Help“ ein Link mit Beispielen zu DataLinqHelper-Funktionen (<a class="reference internal" href="tippsundtricks.html#anchor52"><span class="std std-ref">Kapitel 5.2</span></a>) finden</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="berechtigung">
<span id="anchor34"></span><h2><span class="sectnum">3.4</span> Berechtigung<a class="headerlink" href="#berechtigung" title="Link zu dieser Überschrift">¶</a></h2>
<p>Für Endpunkte und Abfragen können hierarchisch Berechtigungen gesetzt werden. D.h. wer auf einen Endpunkt nicht zugreifen darf, darf auch nicht dessen Abfragen ausführen. Es können einzelne User oder auch Rollen berechtigt werden, Token- und Portalverbund sind ebenfalls möglich.</p>
<p>Dazu ist die Art (User, Rolle, etc.) zu wählen und der Name einzugeben und mit Klick auf das „+“-Symbol bzw. Enter zu bestätigen. Mit „*“ werden uneingeschränkte Berechtigungen gesetzt.</p>
<img alt="../_images/ad3_6.jpg" src="../_images/ad3_6.jpg" />
</div>
<div class="section" id="stile">
<span id="anchor35"></span><h2><span class="sectnum">3.5</span> Stile<a class="headerlink" href="#stile" title="Link zu dieser Überschrift">¶</a></h2>
<p>CSS-Stile können sowohl für einen Endpoint und alle darauf aufbauenden Views definiert werden (siehe <a class="reference internal" href="#anchor31"><span class="std std-ref">Kapitel 3.1</span></a>) als auch innerhalb eines Views mit HTML <code class="docutils literal notranslate"><span class="pre">&lt;style&gt;</span></code>-Tags bzw. als Inline <code class="docutils literal notranslate"><span class="pre">style</span></code>-Attribut.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="aufrufundbeispiele.html" class="btn btn-neutral float-right" title="4 Aufruf und Beispiele" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="technischeumsetzung.html" class="btn btn-neutral float-left" title="2 Technische Umsetzung" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, ENI

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>