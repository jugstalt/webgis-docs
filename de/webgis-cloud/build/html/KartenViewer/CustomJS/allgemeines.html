

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="de" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="de" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Allgemeines &mdash; WebGIS Cloud Dokumentation 2020 Dokumentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/js/eni.js"></script>
        <script src="../../_static/translations.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/eni.css" type="text/css" />
    <link rel="index" title="Stichwortverzeichnis" href="../../genindex.html" />
    <link rel="search" title="Suche" href="../../search.html" />
    <link rel="next" title="Benutzerdefinierte Marker" href="benutzerdefmarker.html" />
    <link rel="prev" title="custom.js" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> WebGIS Cloud Dokumentation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Inhalt:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../DataLinq/index.html">DataLinq</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../MapBuilder/index.html">Map Builder</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Karten Viewer</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../GDI/index.html">Darstellungsvarianten &amp; Schemes</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">custom.js</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Allgemeines</a></li>
<li class="toctree-l3"><a class="reference internal" href="benutzerdefmarker.html">Benutzerdefinierte Marker</a></li>
<li class="toctree-l3"><a class="reference internal" href="usability.html">Usability</a></li>
<li class="toctree-l3"><a class="reference internal" href="speziellethemen.html">Spezielle Themen</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ParametrierterAufruf/index.html">Parametrierter Aufruf von Karten</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Tutorials/index.html">Tutorials</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">WebGIS Cloud Dokumentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Karten Viewer</a> &raquo;</li>
        
          <li><a href="index.html">custom.js</a> &raquo;</li>
        
      <li>Allgemeines</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/KartenViewer/CustomJS/allgemeines.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="allgemeines">
<h1>Allgemeines<a class="headerlink" href="#allgemeines" title="Link zu dieser Überschrift">¶</a></h1>
<p>Wenn man Karten über Portalseiten aus dem WebGIS 5 Portal publiziert, kann man natürlich nicht in den Sourcecode der einzelnen Karten eingreifen. Aus diesem Grund wurde die Datei custom.js eingeführt. Diese Datei sollte sich im Verzeichnis portal5/scripts/portals/{url-id-des-portals} befinden. Bei der Installation befindet sich eine solche Datei im portal5/scripts/portals/eni Verzeichnis. Auf deren Inhalt soll hier eingegangen werden.</p>
<p>Grundsätzlich kann für jede Portalseite eine custom.js Datei angelegt. Der Viewer versucht beim jedem Laden einer Karte diese Datei zu landen. Wenn es diese Datei nicht gibt, zeigt der Link ins Leere und hat keine Auswirkung. Es kann allerdings sein, dass solche Zugriffe in den Server Logdateien auftauchen. Es ist also ratsam, wenigstens eine leere Datei mit diesem Namen ins entsprechende Verzeichnis zu legen.</p>
<p>Da diese Datei bei jedem Viewer Aufruf eingebunden wird, eignet sie sich perfekt dazu, vorgegeben Werte aus der API zu überschreiben, wie beispielsweise die Marker.</p>
<p><strong>Tipp:</strong> Alle hier gezeigten Methoden gelten so wie hier gezeigt immer für alle Karten einer Portalseite. Soll eine Methode (beispielsweise ein benutzerdefiniertes Werkzeug) nur in einer bestimmten Karte oder bestimmten Karten auftauchen, kann dies über entsprechende Bedingen gelöst werden. So steht beispielsweise in der Variable <code class="docutils literal notranslate"><span class="pre">mapUrlName</span></code> der Name der aktuell aufgerufenen Karte:</p>
<div class="highlight-JavaScript notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nx">mapUrlName</span> <span class="o">===</span> <span class="s2">&quot;Geoland&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">webgis</span><span class="p">.</span><span class="nx">custom</span><span class="p">.</span><span class="nx">tools</span><span class="p">.</span><span class="nx">add</span><span class="p">({</span>
        <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Super Tool&#39;</span><span class="p">,</span>
        <span class="nx">command</span><span class="o">:</span> <span class="s1">&#39;https://www.google.com/maps/@{y},{x},19z&#39;</span>
    <span class="p">});</span>
<span class="p">}</span>
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="benutzerdefmarker.html" class="btn btn-neutral float-right" title="Benutzerdefinierte Marker" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="custom.js" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, ENI

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>